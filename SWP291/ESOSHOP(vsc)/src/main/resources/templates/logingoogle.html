<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MDB Shop</title>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
</head>
<body>
    <h1>Login with Google</h1>
    <div id="google-signin-button"></div>

    <script>
        function onSignIn(googleUser) {
            var profile = googleUser.getBasicProfile();
            var email = profile.getEmail();

            // Gửi email người dùng về máy chủ để xác thực
            // Bạn cần viết mã xử lý phía máy chủ để xác thực thông tin và tạo session.
            // Đảm bảo rằng bạn sử dụng HTTPS khi gửi thông tin này về máy chủ.
            console.log('User email:', email);
            // Gọi một hàm hoặc một API để gửi 'email' về máy chủ để xử lý tiếp.

            // Xóa phần tử HTML của nút đăng nhập sau khi đã xác thực
            document.getElementById('google-signin-button').style.display = 'none';
        }
    </script>

    <script>
        // Render Google Sign-In button
        function renderButton() {
            gapi.signin2.render('google-signin-button', {
                'scope': 'email',
                'width': 200,
                'height': 40,
                'longtitle': true,
                'theme': 'dark',
                'onsuccess': onSignIn,
                'onfailure': function(error) {
                    console.error('Google Sign-In failure:', error);
                }
            });
        }
    </script>

    <!-- Gọi hàm renderButton khi tải xong trang -->
    <script>
        window.onload = function() {
            renderButton();
        };
    </script>

</body>
</html>
